---
import { parse } from 'node:url';
interface Props {
  name: string;
  url: string;
  tags: string[];
  bgColor: string;
}

const { name, url, tags, bgColor } = Astro.props;
const { hostname } = parse(url);
const faviconUrl = `https://www.google.com/s2/favicons?domain=${hostname}&sz=32`;
---

<a href={url} target="_blank" rel="noopener noreferrer" class={`resource-card group block p-6 rounded-xl shadow-lg ${bgColor} transition-all duration-300 ease-in-out transform hover:scale-105 hover:shadow-2xl hover:rotate-1`}>
  <div class="overflow-hidden">
    <div class="flex items-center mb-2">
      <img src={faviconUrl} alt={`${name} favicon`} class="w-6 h-6 mr-2" />
      <h2 class="text-2xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300">{name}</h2>
    </div>
    <p class="text-blue-600 mb-4 truncate group-hover:underline">{url}</p>
    <div class="flex flex-wrap gap-2">
      {tags.map((tag) => (
        <span class="px-2 py-1 bg-white bg-opacity-30 rounded-full text-sm text-gray-700 transition-all duration-300 group-hover:bg-opacity-50 group-hover:text-gray-900">
          {tag}
        </span>
      ))}
    </div>
  </div>
</a>

<style>
  a {
    position: relative;
    overflow: hidden;
  }

  a::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.5));
    transform: translateY(100%);
    transition: transform 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
    pointer-events: none;
  }

  a:hover::before {
    transform: translateY(0);
  }
</style>